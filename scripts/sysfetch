#!/usr/bin/env bash 

# Script to quickly grab system information
# Include: 
# Hardware info 
# Maybe number of kernel files in boot 
# Number of packages? Should we determine what package manager is being used?
# RAM and disk info 
# swap info 
# virt info 

_hostname() { 
    hostname="$(hostnamectl | grep hostname | awk '{print $3}')"
} 

_architecture() {
    architecture="$(uname -m)"
}

_boot_loader_call() {
    cmdline="$(cat /proc/cmdline)"
}

_cpu_count() {
    cpuCount="$(grep -ic processor /proc/cpuinfo)"
}

_uptime() {
    uptime="System $(uptime --pretty)"
}

_kernel(){
    kernel="$(uname -r)"
    # some better ones might be hostnamectl or cat /etc/*release
}

_start_up_time(){
    startup="$(systemd-analyze time)"
}

_distro_name() {
    distro="$(hostnamectl | grep -i system | cut -d':' -f2)"
}

_hardware(){ # Need to better format this 
    hardware_vendor="HW Vendor:$(hostnamectl | grep -i vendor | cut -d':' -f2)"
    hardware_model="HW Model:$(hostnamectl | grep -i model | cut -d':' -f2)"
}    


_hostname 
_uptime 
_architecture
_cpu_count 
_boot_loader_call
_kernel 
_start_up_time
_distro_name
_hardware

echo ""
printf "%s\n" \
    "Hostname: $hostname" \
    "$uptime" \
    "Distro Name:$distro" \
    "Kernel: $kernel" \
    "$cmdline" \
    "Architecture: $architecture" \
    "CPUs: $cpuCount" \
    "$startup" \
    "$hardware_model" \
    "$hardware_vendor"
echo ""
