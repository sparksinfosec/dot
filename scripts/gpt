#!/usr/bin/env bash
# Credit RWXrob beginner boost and dot file
# Requires mods charmbracelet/mods

# Made changes but did not exclude the export of the custom token file 
# Look at mods --settings and can modify the .yaml file directly with the Token?

_have() { type "$1" &>/dev/null; }

declare OPENAI_API_KEY
OPENAI_API_KEY="$(head -1 "$HOME/.config/gpt/token")"
export OPENAI_API_KEY

! _have mods && echo "requires charmbracelet/mods" && exit 1
#    mods "$*"
    mods --status-text "Ummm" "$*"

# Maybe look at an if statment that looks for specific list or show keywords 
# might work well as a function since we are essentially returning the arg for the mod command 
# ?? show hash (run mods --show hash
# ?? list (runs mods --list)
# Else we run the gpt query
# Might be easier than writing to a file tee screws up the output formatting

# Mods saves the convos like git 
# mods --list (shows all)
# mods --show hash (shows the specific convo)
# maybe mixes those in here
# Don't totally over complicate
